"use strict";(()=>{var e={};e.id=8735,e.ids=[8735],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},15376:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>m,originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>b,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>g});var o={};s.r(o),s.d(o,{GET:()=>l});var r=s(95419),n=s(69108),a=s(99678),i=s(78070),u=s(9108);async function l(){try{await u.Z.$connect(),console.log("Connexion \xe0 la base de donn\xe9es \xe9tablie");let e=await u.Z.user.count();console.log("Nombre total d'utilisateurs:",e);let t=await u.Z.user.findMany({include:{subscription:!0}});console.log("Utilisateurs trouv\xe9s:",t);let s=await u.Z.subscription.count();console.log("Nombre total d'abonnements:",s);let o=await u.Z.subscription.findMany();return console.log("Abonnements trouv\xe9s:",o),i.Z.json({status:"success",message:"Base de donn\xe9es test\xe9e avec succ\xe8s",data:{userCount:e,users:t,subscriptionCount:s,subscriptions:o}})}catch(e){return console.error("Erreur lors du test de la base de donn\xe9es:",e),i.Z.json({status:"error",error:"Erreur lors du test de la base de donn\xe9es",details:e instanceof Error?e.message:String(e)},{status:500})}finally{await u.Z.$disconnect(),console.log("D\xe9connexion de la base de donn\xe9es")}}let d=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/test-db/route",pathname:"/api/test-db",filename:"route",bundlePath:"app/api/test-db/route"},resolvedPagePath:"/home/runner/work/ExpertsPronostics/ExpertsPronostics/app/api/test-db/route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:p,serverHooks:b,headerHooks:m,staticGenerationBailout:g}=d,h="/api/test-db/route";function v(){return(0,a.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:p})}},9108:(e,t,s)=>{s.d(t,{Z:()=>r});let o=require("@prisma/client"),r=global.prisma||new o.PrismaClient({log:["query"]})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),o=t.X(0,[1638,6206],()=>s(15376));module.exports=o})();