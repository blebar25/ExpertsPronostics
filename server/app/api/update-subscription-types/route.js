"use strict";(()=>{var e={};e.id=3075,e.ids=[3075],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},52190:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>y,originalPathname:()=>P,patchFetch:()=>A,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>h});var a={};r.r(a),r.d(a,{POST:()=>p});var s=r(95419),n=r(69108),o=r(99678),i=r(78070),u=r(9108);async function p(e){try{let e=await u.Z.subscription.updateMany({where:{type:{in:["MONTHLY_PREMIUM","YEARLY_PREMIUM"]}},data:{type:"PREMIUM"}}),t=await u.Z.subscription.updateMany({where:{type:{in:["MONTHLY_STANDARD","YEARLY_STANDARD"]}},data:{type:"STANDARD"}});return i.Z.json({message:"Types d'abonnement mis \xe0 jour",premiumUpdated:e.count,standardUpdated:t.count})}catch(e){return console.error("Erreur lors de la mise \xe0 jour:",e),i.Z.json({error:"Erreur serveur",details:e instanceof Error?e.message:String(e)},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/update-subscription-types/route",pathname:"/api/update-subscription-types",filename:"route",bundlePath:"app/api/update-subscription-types/route"},resolvedPagePath:"/home/runner/work/ExpertsPronostics/ExpertsPronostics/app/api/update-subscription-types/route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m,headerHooks:y,staticGenerationBailout:h}=d,P="/api/update-subscription-types/route";function A(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},9108:(e,t,r)=>{r.d(t,{Z:()=>s});let a=require("@prisma/client"),s=global.prisma||new a.PrismaClient({log:["query"]})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1638,6206],()=>r(52190));module.exports=a})();